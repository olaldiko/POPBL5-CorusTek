<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Skynet - Emergency station: rasPi-EmergencyStation/stationActions.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Skynet - Emergency station
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Application for managing the communications between server and vehicles</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('station_actions_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stationActions.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>FIle containing all the station action definitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="station_actions_8h_source.html">stationActions.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6aebd614595a0cd43b4f3dae79904502"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a6aebd614595a0cd43b4f3dae79904502">SA_treatIDMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="separator:a6aebd614595a0cd43b4f3dae79904502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508d1d36f16f6dee4c28344426c929f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a508d1d36f16f6dee4c28344426c929f0">SA_treatIDReqMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:a508d1d36f16f6dee4c28344426c929f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the ID Request Messages.  <a href="#a508d1d36f16f6dee4c28344426c929f0">More...</a><br /></td></tr>
<tr class="separator:a508d1d36f16f6dee4c28344426c929f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2194e68556b58027350c53533996f78a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a2194e68556b58027350c53533996f78a">SA_treatIDAssign</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:a2194e68556b58027350c53533996f78a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the ID Assign messages.  <a href="#a2194e68556b58027350c53533996f78a">More...</a><br /></td></tr>
<tr class="separator:a2194e68556b58027350c53533996f78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0a9c39b59131a6b19a9d44544543ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a1e0a9c39b59131a6b19a9d44544543ab">SA_treatLOCMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:a1e0a9c39b59131a6b19a9d44544543ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the Location messages.  <a href="#a1e0a9c39b59131a6b19a9d44544543ab">More...</a><br /></td></tr>
<tr class="separator:a1e0a9c39b59131a6b19a9d44544543ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e710f6898a01da9a953e7fed354c358"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a1e710f6898a01da9a953e7fed354c358">SA_treatListMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:a1e710f6898a01da9a953e7fed354c358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the initial vehicle list message.  <a href="#a1e710f6898a01da9a953e7fed354c358">More...</a><br /></td></tr>
<tr class="separator:a1e710f6898a01da9a953e7fed354c358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1c0855b4fc05bdfb48c63ee97d728e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a5e1c0855b4fc05bdfb48c63ee97d728e">SA_treatRouteMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:a5e1c0855b4fc05bdfb48c63ee97d728e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the route messages sent by the server.  <a href="#a5e1c0855b4fc05bdfb48c63ee97d728e">More...</a><br /></td></tr>
<tr class="separator:a5e1c0855b4fc05bdfb48c63ee97d728e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5974717372c28efe7b4e33f68ef895b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#ac5974717372c28efe7b4e33f68ef895b">SA_initVehicle</a> (<a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a> vehicle, int id)</td></tr>
<tr class="memdesc:ac5974717372c28efe7b4e33f68ef895b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize a new vehicle structure.  <a href="#ac5974717372c28efe7b4e33f68ef895b">More...</a><br /></td></tr>
<tr class="separator:ac5974717372c28efe7b4e33f68ef895b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db92a163307a895ded7d4c6d9627c3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a5db92a163307a895ded7d4c6d9627c3f">SA_treatStatusMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:a5db92a163307a895ded7d4c6d9627c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the Status messages coming from the vehicle.  <a href="#a5db92a163307a895ded7d4c6d9627c3f">More...</a><br /></td></tr>
<tr class="separator:a5db92a163307a895ded7d4c6d9627c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec412b1329832ff70968ddd70b18f3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#abec412b1329832ff70968ddd70b18f3e">SA_treatAlertMessage</a> (<a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a> msg)</td></tr>
<tr class="memdesc:abec412b1329832ff70968ddd70b18f3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to treat the Alert messages coming from the server.  <a href="#abec412b1329832ff70968ddd70b18f3e">More...</a><br /></td></tr>
<tr class="separator:abec412b1329832ff70968ddd70b18f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7a98007f57d5cc8f066ce673c6daf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#afd7a98007f57d5cc8f066ce673c6daf8">SA_initVehicleList</a> ()</td></tr>
<tr class="memdesc:afd7a98007f57d5cc8f066ce673c6daf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vehicle list initializer.  <a href="#afd7a98007f57d5cc8f066ce673c6daf8">More...</a><br /></td></tr>
<tr class="separator:afd7a98007f57d5cc8f066ce673c6daf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef80b5aef5924633f2ef4b37eecc820"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#adef80b5aef5924633f2ef4b37eecc820">SA_addVehicleToList</a> (int id)</td></tr>
<tr class="memdesc:adef80b5aef5924633f2ef4b37eecc820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new vehicle to the vehicle list.  <a href="#adef80b5aef5924633f2ef4b37eecc820">More...</a><br /></td></tr>
<tr class="separator:adef80b5aef5924633f2ef4b37eecc820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32eaec7f38945a0256977ee21f1318d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#ad32eaec7f38945a0256977ee21f1318d">SA_searchVehicleBySocket</a> (int socket)</td></tr>
<tr class="memdesc:ad32eaec7f38945a0256977ee21f1318d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search a vehicle by socket number.  <a href="#ad32eaec7f38945a0256977ee21f1318d">More...</a><br /></td></tr>
<tr class="separator:ad32eaec7f38945a0256977ee21f1318d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fa797ba2873bacdac3f25506fdca3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a78fa797ba2873bacdac3f25506fdca3b">SA_searchVehicleById</a> (int id)</td></tr>
<tr class="memdesc:a78fa797ba2873bacdac3f25506fdca3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search a vehicle by ID.  <a href="#a78fa797ba2873bacdac3f25506fdca3b">More...</a><br /></td></tr>
<tr class="separator:a78fa797ba2873bacdac3f25506fdca3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca7876f4e4aa4da84f9d5598995916c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#aeca7876f4e4aa4da84f9d5598995916c">SA_searchVehicleByInboxThread</a> (pthread_t inboxThread)</td></tr>
<tr class="memdesc:aeca7876f4e4aa4da84f9d5598995916c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search a vehicle by it's inbox handling thread.  <a href="#aeca7876f4e4aa4da84f9d5598995916c">More...</a><br /></td></tr>
<tr class="separator:aeca7876f4e4aa4da84f9d5598995916c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37799774c2d1bb58759b36bb9d82817e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a37799774c2d1bb58759b36bb9d82817e">SA_countVehiclesInList</a> ()</td></tr>
<tr class="memdesc:a37799774c2d1bb58759b36bb9d82817e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the vehicles on the vehicle list.  <a href="#a37799774c2d1bb58759b36bb9d82817e">More...</a><br /></td></tr>
<tr class="separator:a37799774c2d1bb58759b36bb9d82817e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace989dc2c9246744d4361436398b4075"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#ace989dc2c9246744d4361436398b4075">SA_getVehicleByIndex</a> (int index)</td></tr>
<tr class="memdesc:ace989dc2c9246744d4361436398b4075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the vehicle that is on the n-th position in the list.  <a href="#ace989dc2c9246744d4361436398b4075">More...</a><br /></td></tr>
<tr class="separator:ace989dc2c9246744d4361436398b4075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be0d823bd5a676ce32b74e8f1b12dc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a2be0d823bd5a676ce32b74e8f1b12dc2">SA_sendConnectedMsg</a> (int id)</td></tr>
<tr class="memdesc:a2be0d823bd5a676ce32b74e8f1b12dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the vehicle connected message to the server.  <a href="#a2be0d823bd5a676ce32b74e8f1b12dc2">More...</a><br /></td></tr>
<tr class="separator:a2be0d823bd5a676ce32b74e8f1b12dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62de0824fbc9e952d2f17577d16d38d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#a62de0824fbc9e952d2f17577d16d38d1">SA_sendDisconnectedMsg</a> (int id)</td></tr>
<tr class="memdesc:a62de0824fbc9e952d2f17577d16d38d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the vehicle disconnected message to the server.  <a href="#a62de0824fbc9e952d2f17577d16d38d1">More...</a><br /></td></tr>
<tr class="separator:a62de0824fbc9e952d2f17577d16d38d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf777498692d2ce2582ab9228b11063"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#afbf777498692d2ce2582ab9228b11063">SA_sendJoinMessage</a> (int id)</td></tr>
<tr class="memdesc:afbf777498692d2ce2582ab9228b11063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Join multicast group message to the vehicle.  <a href="#afbf777498692d2ce2582ab9228b11063">More...</a><br /></td></tr>
<tr class="separator:afbf777498692d2ce2582ab9228b11063"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af74319933cbe8928ebca4386f4850f2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structures_8h.html#af99384b6bdf35a5dad25bbde6c22593d">SA_VEHICLE_LIST</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#af74319933cbe8928ebca4386f4850f2b">vehicleList</a></td></tr>
<tr class="memdesc:af74319933cbe8928ebca4386f4850f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">List where all the vehicles are stored.  <a href="#af74319933cbe8928ebca4386f4850f2b">More...</a><br /></td></tr>
<tr class="separator:af74319933cbe8928ebca4386f4850f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac587286b9f763555084055c69d456426"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="station_actions_8c.html#ac587286b9f763555084055c69d456426">stationID</a> = 1</td></tr>
<tr class="memdesc:ac587286b9f763555084055c69d456426"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of the staion.  <a href="#ac587286b9f763555084055c69d456426">More...</a><br /></td></tr>
<tr class="separator:ac587286b9f763555084055c69d456426"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>FIle containing all the station action definitions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adef80b5aef5924633f2ef4b37eecc820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a> SA_addVehicleToList </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new vehicle to the vehicle list. </p>
<p>Adds the vehicle with the corresponding id to the list and returns the pointer to that newly created vehicle. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The vehicle ID to assign. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the newly created vehicle. </dd></dl>

</div>
</div>
<a class="anchor" id="a37799774c2d1bb58759b36bb9d82817e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SA_countVehiclesInList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count the vehicles on the vehicle list. </p>
<p>Counts the vehicle amount in the vehicle list and returns th quantity. </p><dl class="section return"><dt>Returns</dt><dd>The number of vehicles on the list. </dd></dl>

</div>
</div>
<a class="anchor" id="ace989dc2c9246744d4361436398b4075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a> SA_getVehicleByIndex </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the vehicle that is on the n-th position in the list. </p>
<p>Receives the list index by parameter and returns the vehicle on that index if it's found. Returns NULL if not found. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index to get the vehicle from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the vehicle element if it's found. NULL if not found. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5974717372c28efe7b4e33f68ef895b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_initVehicle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a>&#160;</td>
          <td class="paramname"><em>vehicle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize a new vehicle structure. </p>
<p>Assigns the id passed by parameter to the vehicle, initializes the outbox and creates a new thread to wait for messages from it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vehicle</td><td>The vehicle structure pointer to initialize. </td></tr>
    <tr><td class="paramname">id</td><td>The id that will be assigned to the vehicle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd7a98007f57d5cc8f066ce673c6daf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_initVehicleList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vehicle list initializer. </p>
<p>Initializes the vehicle list by creating the mutex element and setting the element number to 0. </p>

</div>
</div>
<a class="anchor" id="a78fa797ba2873bacdac3f25506fdca3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a> SA_searchVehicleById </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search a vehicle by ID. </p>
<p>Searchs a vehicle that has the specified ID in the vehicle list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The vehicle ID to search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the vehicle if found. NULL if the vehicle is not found. </dd></dl>

</div>
</div>
<a class="anchor" id="aeca7876f4e4aa4da84f9d5598995916c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a> SA_searchVehicleByInboxThread </td>
          <td>(</td>
          <td class="paramtype">pthread_t&#160;</td>
          <td class="paramname"><em>inboxThread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search a vehicle by it's inbox handling thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inboxThread</td><td>The threading reading inbound messages. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the vehicle element if found. Returns else if not found. </dd></dl>

</div>
</div>
<a class="anchor" id="ad32eaec7f38945a0256977ee21f1318d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structures_8h.html#ab60a043206ae138fbd2fd16397e926a6">SA_PVEHICLE_DATA</a> SA_searchVehicleBySocket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search a vehicle by socket number. </p>
<p>Searchs a vehicle that has the same socket number that the one passed by parameter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>The socket to search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the vehicle if found. NULL if the vehicle is not found. </dd></dl>

</div>
</div>
<a class="anchor" id="a2be0d823bd5a676ce32b74e8f1b12dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_sendConnectedMsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the vehicle connected message to the server. </p>
<p>This function builds the connected message by receiving the vehicle id by parameter, building the message and putting it into the server outbox. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The vehicle ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62de0824fbc9e952d2f17577d16d38d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_sendDisconnectedMsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the vehicle disconnected message to the server. </p>
<p>This function receives the vehicle ID by parameter, builds the message and puts it in the server outbox. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The vehicle ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afbf777498692d2ce2582ab9228b11063"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_sendJoinMessage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Join multicast group message to the vehicle. </p>
<p>When a vehicle connects, this function sends the message to that vehicle by getting the ID by parameter, getting the multicast group from the station, building the message and then putting it into the vehicles outbox. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The vehicle ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abec412b1329832ff70968ddd70b18f3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatAlertMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the Alert messages coming from the server. </p>
<p>Receives the message by parameter and forwards it to the outbox of the station multicast group. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The received message structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2194e68556b58027350c53533996f78a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatIDAssign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the ID Assign messages. </p>
<p>It search for the vehicle with the corresponding socket no, establishes the ID in the vehicle list and finally forwards the ID assign message to the vehicle. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The structure of the received message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6aebd614595a0cd43b4f3dae79904502"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatIDMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a508d1d36f16f6dee4c28344426c929f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatIDReqMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the ID Request Messages. </p>
<p>Generates the IDrequest message with the station ID as the ID and the vehicle socket number in the message field. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1e710f6898a01da9a953e7fed354c358"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatListMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the initial vehicle list message. </p>
<p>Receives a vehicle list from the server, and adds these vehicles to the station's vehicle list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The received message structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1e0a9c39b59131a6b19a9d44544543ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatLOCMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the Location messages. </p>
<p>Fowrwards the location messages sent by the vehicles to the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The received message structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e1c0855b4fc05bdfb48c63ee97d728e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatRouteMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the route messages sent by the server. </p>
<p>Receives the route message, search for the referred message addressee and forwards the message. If the vehicle is not found. It sends a NACK to the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The received message structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5db92a163307a895ded7d4c6d9627c3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SA_treatStatusMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structures_8h.html#ab0e2403c2d12c3cd1b983b120f9d29f7">PMESSAGE</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to treat the Status messages coming from the vehicle. </p>
<p>Receives the status message and forwards it to the server send buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The received message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac587286b9f763555084055c69d456426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stationID = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ID of the staion. </p>

</div>
</div>
<a class="anchor" id="af74319933cbe8928ebca4386f4850f2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structures_8h.html#af99384b6bdf35a5dad25bbde6c22593d">SA_VEHICLE_LIST</a> vehicleList</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List where all the vehicles are stored. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d79aaa2833e99619ba276a6f7310bac1.html">rasPi-EmergencyStation</a></li><li class="navelem"><a class="el" href="station_actions_8c.html">stationActions.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
